% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/control.R
\name{control_opt}
\alias{control_opt}
\title{Generate control specifications for \code{ngme()} function.}
\usage{
control_opt(
  seed = Sys.time(),
  burnin = 100,
  iterations = 500,
  estimation = TRUE,
  standardize_fixed = TRUE,
  stop_points = 10,
  iters_per_check = iterations/stop_points,
  optimizer = adam(),
  n_parallel_chain = 4,
  max_num_threads = n_parallel_chain,
  exchange_VW = TRUE,
  n_slope_check = 3,
  std_lim = 0.01,
  trend_lim = 0.01,
  print_check_info = FALSE,
  max_relative_step = 0.5,
  max_absolute_step = 0.5,
  converge_eps = 1e-05,
  rao_blackwellization = FALSE,
  n_trace_iter = 10,
  sampling_strategy = "all",
  verbose = FALSE
)
}
\arguments{
\item{seed}{set the seed for pesudo random number generator}

\item{burnin}{interations for burn-in periods (before optimization)}

\item{iterations}{optimization iterations}

\item{estimation}{run the estimation process (call C++ in backend)}

\item{standardize_fixed}{whether or not standardize the fixed effect}

\item{stop_points}{number of stop points for convergence check (or specify iters_per_check)}

\item{iters_per_check}{run how many iterations between each check point (or specify stop_points)}

\item{optimizer}{choose different sgd optimization method, 
currently support "precond_sgd", "momentum", "adagrad", "rmsprop", "adam", "adamW"
see precond_sgd, ?momentum, ?adagrad, ?rmsprop, ?adam, ?adamW}

\item{n_parallel_chain}{number of parallel chains}

\item{max_num_threads}{maximum number of threads used for parallel computing, by default will be set same as n_parallel_chain.
If it is more than n_parallel_chain, the rest will be used to parallel different replicates of the model.}

\item{exchange_VW}{exchange last V and W in each chian}

\item{n_slope_check}{number of stop points for regression}

\item{std_lim}{maximum allowed standard deviation}

\item{trend_lim}{maximum allowed slope}

\item{print_check_info}{print the convergence information}

\item{max_relative_step}{max relative step allowed in 1 iteration}

\item{max_absolute_step}{max absolute step allowed in 1 iteration}

\item{converge_eps}{convergence threshold, test if grad.norm() < converge_eps}

\item{rao_blackwellization}{use rao_blackwellization}

\item{n_trace_iter}{use how many iterations to approximate the trace (Hutchinsonâ€™s trick)}

\item{sampling_strategy}{subsampling method of replicates of model, c("all", "is")
"all" means using all replicates in each iteration,
"ws" means weighted sampling (each iteration use 1 replicate to compute the gradient, the sample probability is proption to its number of observations)}

\item{verbose}{print estimation}
}
\value{
list of control variables
}
\description{
These are configurations for \code{ngme}
optimization process.
}
\details{
To enable convergence check, we need multiple chains running.
 We compare the trend of the estimated parameter of length
 \code{n_slope_check} (linear regression) with \code{trend_lim}.
 We compare the standard devation of estimated parameters (in different chains)
 with std_lim.
}
